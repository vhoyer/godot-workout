[gd_scene load_steps=44 format=3 uid="uid://ddjdxq7gmxnlk"]

[ext_resource type="Script" path="res://games/horde_survivor/components/player.gd" id="1_xnum0"]
[ext_resource type="Texture2D" uid="uid://c050jb60lc38x" path="res://assets/Tiny Swords (Update 010)/Factions/Knights/Troops/Warrior/Blue/Warrior_Blue.png" id="2_ix7cd"]

[sub_resource type="Animation" id="Animation_oa2xg"]
resource_name = "attack_down"
length = 0.6
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [36, 37, 38, 39, 40, 41]
}

[sub_resource type="Animation" id="Animation_tyx8k"]
resource_name = "attack_down_2"
length = 0.6
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [42, 43, 44, 45, 46, 47]
}

[sub_resource type="Animation" id="Animation_1fdw2"]
resource_name = "attack_right"
length = 0.6
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [12, 13, 14, 15, 16, 17]
}

[sub_resource type="Animation" id="Animation_6jy6a"]
resource_name = "attack_right_2"
length = 0.6
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [18, 19, 20, 21, 22, 23]
}

[sub_resource type="Animation" id="Animation_dy6yd"]
resource_name = "attack_up"
length = 0.6
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [24, 25, 26, 27, 28, 29]
}

[sub_resource type="Animation" id="Animation_pvip7"]
resource_name = "attack_up_2"
length = 0.6
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [30, 31, 32, 33, 34, 35]
}

[sub_resource type="Animation" id="Animation_dbex8"]
resource_name = "face_left"
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:flip_h")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_5fe3e"]
resource_name = "face_right"
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:flip_h")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_ees63"]
resource_name = "idle_right"
length = 0.5
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4]
}

[sub_resource type="Animation" id="Animation_4e2ss"]
resource_name = "reset_combo"
length = 0.001
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"reset_combo"
}]
}

[sub_resource type="Animation" id="Animation_hb4h1"]
resource_name = "walk_right"
length = 0.6
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [6, 7, 8, 9, 10, 11]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_egy01"]
_data = {
"attack_down_1": SubResource("Animation_oa2xg"),
"attack_down_2": SubResource("Animation_tyx8k"),
"attack_side_1": SubResource("Animation_1fdw2"),
"attack_side_2": SubResource("Animation_6jy6a"),
"attack_up_1": SubResource("Animation_dy6yd"),
"attack_up_2": SubResource("Animation_pvip7"),
"face_left": SubResource("Animation_dbex8"),
"face_right": SubResource("Animation_5fe3e"),
"idle": SubResource("Animation_ees63"),
"reset_combo": SubResource("Animation_4e2ss"),
"walk": SubResource("Animation_hb4h1")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_3qvod"]
animation = &"attack_down_1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pjnn1"]
animation = &"attack_side_1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4rd21"]
animation = &"attack_up_1"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_m21ll"]
blend_point_0/node = SubResource("AnimationNodeAnimation_3qvod")
blend_point_0/pos = -1.0
blend_point_1/node = SubResource("AnimationNodeAnimation_pjnn1")
blend_point_1/pos = 0.0
blend_point_2/node = SubResource("AnimationNodeAnimation_4rd21")
blend_point_2/pos = 1.0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hqivl"]
animation = &"attack_down_2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_os25w"]
animation = &"attack_side_2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_cw5y2"]
animation = &"attack_up_2"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_87cwd"]
blend_point_0/node = SubResource("AnimationNodeAnimation_hqivl")
blend_point_0/pos = -1.0
blend_point_1/node = SubResource("AnimationNodeAnimation_os25w")
blend_point_1/pos = 0.0
blend_point_2/node = SubResource("AnimationNodeAnimation_cw5y2")
blend_point_2/pos = 1.0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dp0ik"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xx2vq"]
animation = &"reset_combo"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ofq1e"]
animation = &"walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_jerpe"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_80nms"]
advance_mode = 2
advance_condition = &"walking"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ap8ol"]
advance_mode = 2
advance_condition = &"not_walking"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_jpn1f"]
advance_mode = 2
advance_condition = &"combo_1"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_qdk56"]
switch_mode = 2
advance_mode = 2
advance_condition = &"not_walking"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_fgiju"]
switch_mode = 2
advance_mode = 2
advance_condition = &"walking"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_wj8qu"]
advance_mode = 2
advance_condition = &"combo_1"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_hrqgy"]
switch_mode = 2
advance_mode = 2
advance_condition = &"combo_2"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_krxas"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_pt4qc"]
advance_mode = 2
advance_condition = &"walking"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ep20s"]
advance_mode = 2
advance_condition = &"not_walking"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_r38ch"]
states/End/position = Vector2(690, 96)
states/Start/position = Vector2(162, 96)
states/attack_1/node = SubResource("AnimationNodeBlendSpace1D_m21ll")
states/attack_1/position = Vector2(266, -72)
states/attack_2/node = SubResource("AnimationNodeBlendSpace1D_87cwd")
states/attack_2/position = Vector2(604, -72)
states/idle/node = SubResource("AnimationNodeAnimation_dp0ik")
states/idle/position = Vector2(347, 96)
states/reset_combo/node = SubResource("AnimationNodeAnimation_xx2vq")
states/reset_combo/position = Vector2(556, 10)
states/walk/node = SubResource("AnimationNodeAnimation_ofq1e")
states/walk/position = Vector2(511, 96)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_jerpe"), "idle", "walk", SubResource("AnimationNodeStateMachineTransition_80nms"), "walk", "idle", SubResource("AnimationNodeStateMachineTransition_ap8ol"), "idle", "attack_1", SubResource("AnimationNodeStateMachineTransition_jpn1f"), "attack_1", "idle", SubResource("AnimationNodeStateMachineTransition_qdk56"), "attack_1", "walk", SubResource("AnimationNodeStateMachineTransition_fgiju"), "walk", "attack_1", SubResource("AnimationNodeStateMachineTransition_wj8qu"), "attack_1", "attack_2", SubResource("AnimationNodeStateMachineTransition_hrqgy"), "attack_2", "reset_combo", SubResource("AnimationNodeStateMachineTransition_krxas"), "reset_combo", "walk", SubResource("AnimationNodeStateMachineTransition_pt4qc"), "reset_combo", "idle", SubResource("AnimationNodeStateMachineTransition_ep20s")]
graph_offset = Vector2(-90, -120)

[sub_resource type="AnimationNodeAdd2" id="AnimationNodeAdd2_8jvwb"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_chjha"]
animation = &"face_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_77ngi"]
animation = &"face_right"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_tkil7"]
blend_point_0/node = SubResource("AnimationNodeAnimation_chjha")
blend_point_0/pos = -1.0
blend_point_1/node = SubResource("AnimationNodeAnimation_77ngi")
blend_point_1/pos = 1.0
blend_mode = 1

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_7272k"]
graph_offset = Vector2(627, 24)
nodes/Animation/node = SubResource("AnimationNodeStateMachine_r38ch")
nodes/Animation/position = Vector2(700, 40)
nodes/AnimationAndFlip/node = SubResource("AnimationNodeAdd2_8jvwb")
nodes/AnimationAndFlip/position = Vector2(1160, 120)
nodes/Flip/node = SubResource("AnimationNodeBlendSpace1D_tkil7")
nodes/Flip/position = Vector2(720, 340)
nodes/output/position = Vector2(1460, 160)
node_connections = [&"AnimationAndFlip", 0, &"Animation", &"AnimationAndFlip", 1, &"Flip", &"output", 0, &"AnimationAndFlip"]

[sub_resource type="CircleShape2D" id="CircleShape2D_8oyf2"]
radius = 16.0312

[node name="Player" type="CharacterBody2D"]
script = ExtResource("1_xnum0")

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(0, -32)
texture = ExtResource("2_ix7cd")
flip_h = true
hframes = 6
vframes = 8
frame = 3

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_egy01")
}

[node name="AnimationTree" type="AnimationTree" parent="."]
libraries = {
"": SubResource("AnimationLibrary_egy01")
}
tree_root = SubResource("AnimationNodeBlendTree_7272k")
anim_player = NodePath("../AnimationPlayer")
parameters/Animation/conditions/combo_1 = false
parameters/Animation/conditions/combo_2 = false
parameters/Animation/conditions/not_walking = false
parameters/Animation/conditions/walking = false
parameters/Animation/attack_1/blend_position = -1.0505
parameters/Animation/attack_2/blend_position = 0
parameters/AnimationAndFlip/add_amount = 1.0
parameters/Flip/blend_position = -0.416502

[node name="Hitbox" type="CollisionShape2D" parent="."]
position = Vector2(0, -16)
shape = SubResource("CircleShape2D_8oyf2")

[node name="Camera2D" type="Camera2D" parent="."]

[node name="ComboTimer" type="Timer" parent="."]

[connection signal="timeout" from="ComboTimer" to="." method="_on_combo_timer_timeout"]
